\begin{abstract}
Many WSN applications such as intelligent transportation systems, smart building and intelligent car park are event-based in the sense that these applications require specifying, detecting and delivering events which are of users' interest and may trigger necessary actions. However, developing event-based applications is challenging because of two reasons. First, it is difficult to specify and detect composite events. Second, different applications may have different requirements for event processing such as communication reliability, network life time or delay bound. 

In general, an event-based system may have primitive or composite events. Primitive events, such as threshold of temperature, may be detected by single sensor node. Composite events, on the other hand, is defined by the relations among primitive events and must be detected by multiple sensor nodes cooperatively. Although there are several works on providing event-based services in WSN, most of them can only deal with primitive event types but cannot handle composite events very well. In this research work, we introduce PSWare, a type-based publish / subscribe middleware framework for WSN that supports composite events. PSWare provides a declarative event definition language for the users to specify the composite events. It also facilitates easy configuration of different event processing algorithms and integrate them into the system at run time.

Based on PSWare, we present TED (Type-based Event Detection), a novel distributed composite event detection algorithm. The essential idea of TED is event fusion, where some sensor nodes are selected as fusion points and component events are fused for the detection of a high level event. Event fusion with minimum energy cost is an NP-complete problem. Therefore, TED uses a number of heuristics with bounded performance.  

We use PSWare to develop applications in certain domains such as Intelligent Transportation Systems (ITS) and Structural Health Monitoring (SHM). We design algorithms so that PSWare is customized to work well in these application domains. In particular, we design a clustering algorithm for PSWare to use in SHM. We formulate the clustering problem and found it to be NP-complete so we propose heuristic centralized and distributed algorithms.

We evaluate PSWare from different aspects. We evaluate TED through analysis and extensive simulation. Both analytical and simulation results show TED can save energy in event-based applications where primitive events occur in a higher frequency than composite events. Then we carry out some real world experiments using PSWare. The results show that PSWare can offer reasonably simple API for the application developers to use while TED and our clustering algorithm can improve the underlying event detection performance. Compared with opportunistic approaches to event detection in these real applications, PSWare can reduce 40 - 50 \% of the energy cost.
\end{abstract}