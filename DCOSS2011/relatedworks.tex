\section{Related Works}
\label{sec:relatedworks}
Event detection is one of the basic issues considered in many WSN-based applications and systems. Earlier works include query-based event definition and detection \cite{tinydb}. However, queries may not be sufficient to describe events with complicated spatial and temporal relations \cite{cougar}. In addition to event queries, the pub/sub paradigm has also been used.  Existing pub/sub based works for WSNs, however, primarily consider the detection of primitive events where each event is usually treated separately and events don't have relations between each other. \cite{lowlevelnaming} is a pub/sub system built on top of directed diffusion \cite{directeddiffusion}. The sink node will first broadcast interest and the source nodes will set up the gradients. When the events are detected, they will be delivered through reinforced paths. Mires \cite{mires} is a pub/sub middleware for WSN. It makes use of the message-oriented communication paradigm provided by TinyOS. First, nodes will advertise their available topics using a multi-hop routing protocol. Then, the sink will broadcast the subscription and finally, nodes will be able to publish the events to the sink.

More recently, certain works such as \cite{lai:psware, complexevent} have been proposed for composite event definition and detection. The primary focus of \cite{lai:psware} is on the system design so that different composite event detection algorithms can be easily integrated into the system. In addition to an event language, \cite{complexevent} also discusses how to reliably detect composite events in a pervasive environment. However, energy-efficient composite event detection problem has not been well addressed in the context of WSN.

\begin{comment}
Another related area is data aggregation for WSNs and a lot of work has been done. Existing data aggregation can be mainly divided into three categories: cluster-based approach \cite{leach}, chain-based approach \cite{pegasis} and tree-based approach \cite{mfst, xue:lp}.  Cluster-based approach typically considers the problem how to select and rotate cluster heads so that the clusters can be evenly distributed in the network and energy consumption will be balanced \cite{leach}. Cluster-based approach can be organized into multiple levels in order to further save the cost. Chain-based approach improves cluster-based approach by letting each sensor node only communicate with its close neighbors \cite{pegasis}. Tree-based approaches use optimization techniques in graph theory to solve the problem. For example, MFST \cite{mfst} constructs a minimum Steiner tree with a cost model that considers the fusion cost while \cite{xue:lp} formulates the problem into multi-commodity flow problem and uses linear programming to help solving the problem.
\end{comment}

In this paper, we study the composite event detection problem by considering certain characteristics of the events in WSN such as spatial or temporal relations \cite{li:tracking},  relatively short event lifetime and data redundancy \cite{bogdan:redundancy}. We believe composite event detection is important for many WSN applications because many of these applications are event-based in nature. More work needs to be done in order to efficiently detect composite events.  
