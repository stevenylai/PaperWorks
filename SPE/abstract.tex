\begin{abstract}
Many WSN applications such as intelligent transportation systems, smart building and intelligent car park are event-based in the sense that these applications require subscribing, detecting and delivering events. However, event-based applications are challenging for programming because different applications may have different requirements for event processing such as communication reliability, network life time or event forwarding. To make the development easier for these applications, we need a flexible middleware architecture so that it is possible to implement different event processing mechanisms that can address different issues without affecting the users. In this paper, we propose PSWare, a publish/subscribe middleware framework that uses a layered architecture to support composite event processing. PSWare uses an event-based programming model where the end users only need to define and subscribe to events. It provides a flexible event processing framework so that different event processing algorithms may be easily integrated. We demonstrate how PSWare can help application developers through several real application examples. Extensive experiments were carried out for these applications. The results show PSWare can be used as an effective toolkit to develop event-based WSN applications.
\end{abstract}